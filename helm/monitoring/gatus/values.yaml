gatus:
  config:
    storage:
      type: sqlite
      path: /data/data.db
    endpoints:
      - name: bazarr
        url: https://bazarr.media.svc.cluster.local/
        conditions:
          - '[STATUS] == 200'
          - '[CERTIFICATE_EXPIRATION] > 48h'
          - '[CONNECTED] == true'
          - '[RESPONSE_TIME] < 1500'

      - name: bitwarden
        url: https://bitwarden.security.svc.cluster.local/
        conditions:
          - '[STATUS] == 200'
          - '[CERTIFICATE_EXPIRATION] > 48h'
          - '[CONNECTED] == true'
          - '[RESPONSE_TIME] < 300'

      - name: gotify
        url: https://gotify.monitoring.svc.cluster.local/
        conditions:
          - '[STATUS] == 200'
          - '[CERTIFICATE_EXPIRATION] > 48h'
          - '[CONNECTED] == true'
          - '[RESPONSE_TIME] < 1000'
          
      - name: jellyfin
        url: https://jellyfin.media.svc.cluster.local/
        conditions:
          - '[STATUS] == 200'
          - '[CERTIFICATE_EXPIRATION] > 48h'
          - '[CONNECTED] == true'
          - '[RESPONSE_TIME] < 500'

      - name: prowlarr
        url: https://prowlarr.media.svc.cluster.local/
        conditions:
          - '[STATUS] == 200'
          - '[CERTIFICATE_EXPIRATION] > 48h'
          - '[CONNECTED] == true'
          - '[RESPONSE_TIME] < 500'

      - name: radarr
        url: https://radarr.media.svc.cluster.local/
        conditions:
          - '[STATUS] == 200'
          - '[CERTIFICATE_EXPIRATION] > 48h'
          - '[CONNECTED] == true'
          - '[RESPONSE_TIME] < 2000'

      - name: sonarr
        url: https://sonarr.media.svc.cluster.local/
        conditions:
          - '[STATUS] == 200'
          - '[CERTIFICATE_EXPIRATION] > 48h'
          - '[CONNECTED] == true'
          - '[RESPONSE_TIME] < 500'

      - name: k8s-master
        url: tcp://10.0.0.10:6443
        conditions:
          - '[CONNECTED] == true'
          - '[RESPONSE_TIME] < 1000'

      - name: argo
        url: https://argocd.argocd.svc.cluster.local/
        conditions:
          - '[STATUS] == 200'
          - '[CERTIFICATE_EXPIRATION] > 48h'
          - '[CONNECTED] == true'
          - '[RESPONSE_TIME] < 500'

      - name: prometheus
        url: https://prometheus.monitoring.svc.cluster.local/
        conditions:
          - '[STATUS] == 200'
          - '[CERTIFICATE_EXPIRATION] > 48h'
          - '[CONNECTED] == true'
          - '[RESPONSE_TIME] < 500'

      - name: alert-manager
        url: https://alert-manager.monitoring.svc.cluster.local/
        conditions:
          - '[STATUS] == 200'
          - '[CERTIFICATE_EXPIRATION] > 48h'
          - '[CONNECTED] == true'
          - '[RESPONSE_TIME] < 500'

      - name: grafana
        url: https://grafana.monitoring.svc.cluster.local/
        conditions:
          - '[STATUS] == 200'
          - '[CERTIFICATE_EXPIRATION] > 48h'
          - '[CONNECTED] == true'
          - '[RESPONSE_TIME] < 500'

      - name: ceph
        url: https://ceph.storage.svc.cluster.local/
        conditions:
          - '[STATUS] == 200'
          - '[CERTIFICATE_EXPIRATION] > 48h'
          - '[CONNECTED] == true'
          - '[RESPONSE_TIME] < 500'

      - name: qbittorrent
        url: https://qbittorrent.media.svc.cluster.local/
        conditions:
          - '[STATUS] == 200'
          - '[CERTIFICATE_EXPIRATION] > 48h'
          - '[CONNECTED] == true'
          - '[RESPONSE_TIME] < 500'
  ingress:
    enabled: true
    annotations:
      kubernetes.io/ingress.class: "nginx"
      kubernetes.io/ingress-allow-http: "false" 
      nginx.ingress.kubernetes.io/ssl-redirect: "true"
      nginx.ingress.kubernetes.io/backend-protocol: HTTPS
      cert-manager.io/cluster-issuer: "prod-issuer"
      nginx.org/websocket-services: gatus
    hosts:
      - health.k8s.tylercash.dev
    tls:
      - secretName: health-letsencrypt-certificate
        hosts:
          - health.k8s.tylercash.dev
  persistence:
    enabled: true
    storageClass: ceph-block
    accessMode: ReadWriteOnce
    size: 5Gi
  resources:
    limits:
      cpu: 100m
      memory: 64Mi
    requests:
      cpu: 50m
      memory: 32Mi