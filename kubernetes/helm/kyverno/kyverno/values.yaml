kyverno:
  crds:
    install: true

  admissionController:
    container:
      resources:
        limits:
          memory: 3000Mi
        requests:
          cpu: 700m
          memory: 2048Mi

    readinessProbe:
      failureThreshold: 20

    rbac:
      clusterRole:
        extraResources: &extraPermissions
        - apiGroups: [ "*" ]
          resources: [ "*" ]
          verbs:
            - "*"
        - apiGroups: [ "volsync.backube" ]
          resources: [ "ReplicationSources" ]
          verbs:
            - create
        - apiGroups: ["networking.k8s.io"]
          resources: ["Ingress"]
          verbs: ["*"]
        - apiGroups: [""]
          resources: ["Secret"]
          verbs: ["*"]

    serviceMonitor:
      enabled: true
      namespace: monitoring

  backgroundController:
    resources:
      limits:
        memory: 512Mi
      requests:
        cpu: 100m
        memory: 256Mi
    rbac:
      clusterRole:
        extraResources: *extraPermissions
